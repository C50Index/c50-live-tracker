<!DOCTYPE html>
<html>

<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <meta content="utf-8" http-equiv="encoding">
  <title>C50 Tracker</title>
  <script src="https://unpkg.com/preact@latest/dist/preact.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">
  <script src="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>
  <script type="module" src='./src/root.js'></script>
  <link rel="stylesheet" type="text/css" href="./src/root.css">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>

<body>
  <div id='app'></div>
  <script>
    function parseQuery(queryString) {
      const query = {}
      const pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&')
      for (let i = 0; i < pairs.length; i++) {
        const pair = pairs[i].split('=')
        let value = decodeURIComponent(pair[1] || '');
        if (value === "true") {
          value = true;
        } else if (value === "false") {
          value = false
        }
        query[decodeURIComponent(pair[0])] = value
      }
      return query
    }


    var tid = setInterval(function () {
      if (document.readyState !== 'complete') return;
      clearInterval(tid);
      new MarkactRoot("app", parseQuery(location.search));
    }, 100);
  </script>
</body>

</html>